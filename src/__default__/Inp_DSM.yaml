%YAML 1.2
---
# <<<<<<<<<<<<<<<<<<<<<<<<  42:  DSM Command Script File  >>>>>>>>>>>>>>>>>>>>>>>>
Gains Configurations:
  # ------------------Translational / Attitude Control Parameters------------------
  # ((Sequence; one element for unique Actuator Definition))
  #   - Gains:          &{Anchor}
  #       Description:    {Optional}
  #       Type:           [[PID/PID_WN/MomentumDump/FC_LYA/CUSTOM]]
  #       Gains:
  #         Kp:         [[kp_1, kp_2, kp_3]]    ((Needed only for PID, MomementumDump))
  #         Kr:         [[kr_1, kr_2, kr_3]]    ((Needed only for PID))
  #         Ki:         [[ki_1, ki_2, ki_3]]    ((Needed only for PID))
  #         Ki_Limit:   [[ki_limit_1, ki_limit_2, ki_limit_3]]  ((Needed only for PID, PID_WN; only ki_limit_1 needed for PID_WN))
  #         Omega:      [[omega]]   ((Needed only for PID_WN))
  #         Zeta:       [[zeta]]    ((Needed only for PID_WN))
  #         Alpha:      [[alpha]]   ((Needed only for PID_WN))
  #         K_lya:      [[k_lya_1, k_lya_2]]    ((Needed only for FC_LYA; only k_lya_1 used by Translation control))
  - Gains: &Gains_0
      Description: Gains_[0]
      Type: PID_WN
      Gains:
        Omega: 0.24
        Zeta: 0.7
        Alpha: 0.0
        Ki_Limit: 0.0
  - Gains: &Gains_1
      Description: Gains_[1]
      Type: PID
      Gains:
        Kp: [0.0, 0.0, 0.0]
        Kr: [0.1, 0.1, 0.1]
        Ki: [0.0, 0.0, 0.0]
        Ki_Limit: [0.0, 0.0, 0.0]
  - Gains: &Gains_2
      Description: Gains_[2]
      Type: MomentumDump
      Gains:
        Kp: [1.3, 1.3, 1.3]
  - Gains: &Gains_3
      Description: Gains_[3]
      Type: PID_WN
      Gains:
        Omega: 2.4
        Zeta: 0.4
        Alpha: 0.0
        Ki_Limit: 0.0
  - Gains: &Gains_4
      Description: Gains_[4]
      Type: PID
      Gains:
        Kp: [20.0, 20.0, 20.0]
        Kr: [200.0, 200.0, 200.0]
        Ki: [0.0, 0.0, 0.0]
        Ki_Limit: [0.0, 0.0, 0.0]
  - Gains: &Gains_5
      Description: Gains_[5]
      Type: PID_WN
      Gains:
        Omega: 0.2
        Zeta: 1.0
        Alpha: 0.0
        Ki_Limit: 0.0
  - Gains: &Gains_6
      Description: Gains_[6]
      Type: FC_LYA
      Gains:
        K_lya: [0.01]
  - Gains: &Gains_7
      Description: Gains_[7]
      Type: FC_LYA
      Gains:
        K_lya: [0.2, 1.0]
Limits Configurations:
  # --------------------Translational / Attitude Control Limits--------------------
  # ((Sequence; one element for unique Limit Definition))
  #   - Limits:         &{Anchor}
  #       Description:    {Optional}
  #       Force Max:      [[X, Y, Z]] frc_max/trq_max [[N, Nm]]
  #       Velocity Max:   [[X, Y, Z]] vel_max/w_max [[m/s, deg/s]]
  - Limits: &Limits_0
      Description: Limits_[0]
      Force Max: [0.0, 0.0, 0.0]
      Velocity Max: [0.0, 0.0, 0.0]
  - Limits: &Limits_1
      Description: Limits_[1]
      Force Max: [0.001, 0.001, 0.001]
      Velocity Max: [0.0, 0.0, 0.0]
  - Limits: &Limits_2
      Description: Limits_[2]
      Force Max: [0.001, 0.001, 0.001]
      Velocity Max: [0.5, 0.5, 0.5]
  - Limits: &Limits_3
      Description: Limits_[3]
      Force Max: [0.004, 0.004, 0.004]
      Velocity Max: [0.0, 0.0, 0.0]
Actuator Configurations:
  # -------------------------------Control Actuators-------------------------------
  # ((Sequence; one element for unique Actuator Definition))
  #   - Actuator:       &{Anchor}
  #         Description:    {Optional}
  #         Type:           [[WHL/MTB/THR_3DOF/THR_6DOF]]
  - Actuator: &Actuator_0
      Description: Actuators_[0]
      Type: Ideal
  - Actuator: &Actuator_1
      Description: Actuators_[1]
      Type: WHL
  - Actuator: &Actuator_2
      Description: Actuators_[2]
      Type: THR_3DOF
  - Actuator: &Actuator_3
      Description: Actuators_[3]
      Type: MTB
  - Actuator: &Actuator_4
      Description: Actuators_[4]
      Type: THR_6DOF
Controller Configurations:
  # ----------------------------------Controllers----------------------------------
  # ((Sequence; one element for unique Controller Definition))
  #   - Controller:     &{Anchor}
  #       Description:    {Optional}
  #       Gains:          [[Configuration or *{Alias}]]
  #       Limits:         [[Configuration or *{Alias}]]
  - Controller: &Controller_0
      Description: Controller_[0]
      Type: PID_CNTRL
      Gains: *Gains_5
      Limits: *Limits_0
  - Controller: &Controller_1
      Description: Controller_[1]
      Type: PID_CNTRL
      Gains: *Gains_0
      Limits: *Limits_1
  - Controller: &Controller_2
      Description: Controller_[2]
      Type: PID_CNTRL
      Gains: *Gains_5
      Limits: *Limits_2
  - Controller: &Controller_3
      Description: Controller_[3]
      Type: PID_CNTRL
      Gains: *Gains_1
      Limits: *Limits_0
  - Controller: &Controller_4
      Description: Controller_[4]
      Type: LYA_ATT_CNTRL
      Gains: *Gains_6
      Limits: *Limits_1
  - Controller: &Controller_5
      Description: Controller_[5]
      Type: LYA_2BODY_CNTRL
      Gains: *Gains_7
      Limits: *Limits_0
  - Controller: &Controller_6
      Description: Controller_[6]
      Type: PID_CNTRL
      Gains: *Gains_0
      Limits: *Limits_0
  - Controller: &Controller_7
      Description: Controller_[7]
      Type: H_DUMP_CNTRL
      Gains: *Gains_2
      Limits: *Limits_3
Translation Configurations:
  # ------------------------------Translation Command------------------------------
  # ((Sequence; one element for unique Translation Command))
  #   - Translation:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Position:       [[X, Y, Z]] [[meters]]
  #       Origin:         [[OP/SC[#].B[#]]]
  #       Frame:          [[N/F/L/SC[#].B[#]]]
  #       Controller:     [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
  - Translation:
      Index: 0
      Description: 2 m in F X-axis
      Position: [2.0, 0.0, 0.0]
      Origin: OP
      Frame: F
      Controller: *Controller_0
      Actuator: *Actuator_0
  - Translation:
      Index: 1
      Description: 2 m in F Y-axis
      Position: [0.0, 2.0, 0.0]
      Origin: OP
      Frame: F
      Controller: *Controller_0
      Actuator: *Actuator_0
  - Translation:
      Index: 2
      Description: ''
      Position: [-2.0, 0.0, 0.0]
      Origin: OP
      Frame: F
      Controller: *Controller_0
      Actuator: *Actuator_0
  - Translation:
      Index: 3
      Description: -2m in F Z-axis
      Position: [0.0, 0.0, -2.0]
      Origin: OP
      Frame: F
      Controller: *Controller_0
      Actuator: *Actuator_0
Primary Vector Configurations:
  # -------------------------------Primary Axis Cmd--------------------------------
  # ((Sequence; one element for unique Primary Axis Command))
  # - Primary Vector:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Axis:           [[X, Y, Z]] ((Body Pointing Vector))
  #       Controller:     [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
  #       Target: ((Describes pointing target))
  #         Type:   [[VEC/BODY/SC]]
  #         ((Frame and Axis are only if Type is VEC))
  #         Frame:  [[N/F/L]] ((Pointing Vector Frame))
  #         Axis:   [[X, Y, Z]] ((Pointing Vector Axis))
  #         ((Target is used if BODY or SC))
  #        Target: [[(IF SC: SC[#].B[#]), (IF BODY: WORLD/Groundstation_[#])]]
  - Primary Vector:
      Index: 0
      Description: AttitudeCmd_PV[0]
      Target:
        Type: VEC
        Frame: L
        Axis: [1.0, 0.0, 0.0]
      Axis: [0.0, 0.0, 1.0]
      Controller: *Controller_1
      Actuator: *Actuator_0
  - Primary Vector:
      Index: 1
      Description: AttitudeCmd_PV[1]
      Target:
        Type: VEC
        Frame: L
        Axis: [0.0, -1.0, 0.0]
      Axis: [0.0, 0.0, 1.0]
      Controller: *Controller_1
      Actuator: *Actuator_0
  - Primary Vector:
      Index: 2
      Description: AttitudeCmd_PV[2]
      Target:
        Type: VEC
        Frame: L
        Axis: [-1.0, 0.0, 0.0]
      Axis: [0.0, 0.0, 1.0]
      Controller: *Controller_1
      Actuator: *Actuator_0
  - Primary Vector:
      Index: 3
      Description: AttitudeCmd_PV[3]
      Target:
        Type: VEC
        Frame: L
        Axis: [0.0, 1.0, 0.0]
      Axis: [0.0, 0.0, 1.0]
      Controller: *Controller_1
      Actuator: *Actuator_0
  - Primary Vector:
      Index: 5
      Description: AttitudeCmd_PV[5]
      Target:
        Type: VEC
        Frame: N
        Axis: [0.0, 0.0, -1.0]
      Axis: [1.0, 0.0, 0.0]
      Controller: *Controller_1
      Actuator: *Actuator_0
  - Primary Vector:
      Index: 6
      Description: AttitudeCmd_PV[6]
      Target:
        Type: VEC
        Frame: N
        Axis: [-1.0, 0.0, 0.0]
      Axis: [1.0, 0.0, 0.0]
      Controller: *Controller_2
      Actuator: *Actuator_0
  - Primary Vector:
      Index: 7
      Description: AttitudeCmd_PV[7]
      Target:
        Type: VEC
        Frame: N
        Axis: [0.0, -1.0, 0.0]
      Axis: [1.0, 0.0, 0.0]
      Controller: *Controller_2
      Actuator: *Actuator_0
Secondary Vector Configurations:
  # ------------------------------Secondary Axis Cmd-------------------------------
  # ((Sequence; one element for unique Secondary Axis Command))
  #   - Secondary Vector:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Axis:       [[X, Y, Z]] ((Body Pointing Vector))
  #       Target: ((Describes pointing target))
  #         Type:   [[VEC, BODY, SC]]
  #         ((Frame and Axis are only if Type is VEC))
  #         Frame:  [[N/F/L]] ((Pointing Vector Frame))
  #         Axis:   [[X, Y, Z]] ((Pointing Vector Axis))
  #         ((Target is used if BODY or SC))
  #         Target: [[(IF SC: SC[#].B[#]), (IF BODY: WORLD/Groundstation_[#])]]
  - Secondary Vector:
      Index: 0
      Description: AttitudeCmd_SV[0]
      Target:
        Type: BODY
        Target: EARTH
      Axis: [-1.0, 0.0, 0.0]
  - Secondary Vector:
      Index: 1
      Description: AttitudeCmd_SV[1]
      Target:
        Type: BODY
        Target: EARTH
      Axis: [-1.0, 0.0, 0.0]
  - Secondary Vector:
      Index: 2
      Description: AttitudeCmd_SV[2]
      Target:
        Type: BODY
        Target: EARTH
      Axis: [-1.0, 0.0, 0.0]
  - Secondary Vector:
      Index: 3
      Description: AttitudeCmd_SV[3]
      Target:
        Type: BODY
        Target: EARTH
      Axis: [-1.0, 0.0, 0.0]
  - Secondary Vector:
      Index: 4
      Description: AttitudeCmd_SV[4]
      Target:
        Type: BODY
        Target: SUN
      Axis: [1.0, 0.0, 0.0]
  - Secondary Vector:
      Index: 5
      Description: AttitudeCmd_SV[5]
      Target:
        Type: VEC
        Frame: N
        Axis: [0.0, 1.0, 0.0]
      Axis: [0.0, 0.0, 1.0]
  - Secondary Vector:
      Index: 6
      Description: AttitudeCmd_SV[6]
      Target:
        Type: VEC
        Frame: N
        Axis: [0.0, 0.0, 1.0]
      Axis: [0.0, 1.0, 0.0]
Quaternion Configurations:
  # ------------------------Quaternion Attitude Cmd--------------------------------
  # ((Sequence; one element for unique Quaternion Command))
  #   - Quaternion:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Quaternion:     [[q_x, q_y, q_z, q_s]]
  #       Frame:          [[(N, F, L)]] ((Quaternion Reference Frame))
  #       Controller:     [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
  - Quaternion:
      Index: 0
      Description: QuaternionCmd_[0]
      Quaternion: [0.0, 0.0, 0.0, 1.0]
      Frame: L
      Controller: *Controller_6
      Actuator: *Actuator_0
Mirror Configurations:
  # ----------------------------Mirror Attitude Cmd--------------------------------
  # ((Sequence; one element for unique Mirror Command))
  #   - Mirror:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Target:         [[SC[#]]]
  #       Controller:     [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
  - Mirror:
      Index: 0
      Description: MirrorCmd_[0]
      Target: SC[0]
      Controller: *Controller_6
      Actuator: *Actuator_0
Detumble Configurations:
  # ---------------------------Detumble Attitude Cmd-------------------------------
  # ((Sequence; one element for unique Detumble Command))
  #   - Detumble:
  #       Index:          [[Index]]
  #       Controller:     [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
  - Detumble:
      Index: 0
      Description: DetumbleCmd_[0]
      Controller: *Controller_1
      Actuator: *Actuator_0
  - Detumble:
      Index: 1
      Description: DetumbleCmd_[1]
      Controller: *Controller_3
      Actuator: *Actuator_0
  - Detumble:
      Index: 0
      Description: WhlHManagementCmd_[0]
Whl H Manage Configurations:
  # ---------------------------Wheel Momentum Management Cmd-------------------------------
  # ((Sequence; one element for unique Whl H Manage Command))
  #   - Whl H Manage:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Dumping:        [[true/false]]
  #       Minimum H_norm: [[Minimum Angular Momentum]] [[Nms]]
  #       Maximum H_norm: [[Maximum Angular Momentum]] [[Nms]]
  #       Controller:     [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
    []
Actuator Cmd Configurations:
  # --------------------------------Actuator Command-------------------------------
  # ((Sequence; one element for unique Actuator Command))
  #   - Index:          [[Index]]
  #     Description:    {Optional}
  #     Acutators: ((Sequence; one element for each))
  #       - Type:       [[THR/WHL/MTB]]
  #         Index:      [[Index]]
  #         Duty Cycle: [[Duty Cycle]]
    []
Maneuver Configurations:
  # --------------------------------Maneuver Command-------------------------------
  # ((Sequence; one element for unique Actuator Definition))
  #   - Maneuver:
  #       Index:          [[Index]]
  #       Description:    {Optional}
  #       Type:           [[WHL/MTB/THR_3DOF/THR_6DOF]]
  #       Delta V:        [[X, Y, Z]] [[m/s]]
  #       Frame:          [[N/B]]
  #       Origin:         [[CONSTANT/SMOOTHED]] ((SMOOTHED must start at half desired burn duration))
  #       Duration:       [[Duration]] [[s]]
  #       Limits:         [[Configuration or *{Alias}]]
  #       Actuator:       [[Configuration or *{Alias}]]
  - Maneuver:
      Index: 0
      Description: ManeuverCmd_[0]
      Delta V: [0.0, 0.0, 0.1]
      Frame: B
      Type: CONSTANT
      Duration: 30.0
      Limits: *Limits_0
      Actuator: *Actuator_0
  - Maneuver:
      Index: 1
      Description: ManeuverCmd_[1]
      Delta V: [0.0, 0.0, 0.1]
      Frame: B
      Type: CONSTANT
      Duration: 15.0
      Limits: *Limits_0
      Actuator: *Actuator_0
  - Maneuver:
      Index: 2
      Description: ManeuverCmd_[2]
      Delta V: [0.0, 0.0, 0.1]
      Frame: B
      Type: CONSTANT
      Duration: 15.0
      Limits: *Limits_0
      Actuator: *Actuator_0
  - Maneuver:
      Index: 3
      Description: ManeuverCmd_[3]
      Delta V: [0.0, 0.0, -0.2]
      Frame: B
      Type: CONSTANT
      Duration: 90.0
      Limits: *Limits_0
      Actuator: *Actuator_0
DSM Commands:
  # ------------------------------Spacecraft Commands------------------------------
  # ((Sequence; one element for each spacecraft))
  #   - SC: [[Index]]
  #     Command Sequence: ((Sequence; one element for each command time))
  #       - Time: [[Command Time]]
  #         Commands: ((Sequence; describes all commands at a particular time))
  #           - Type:       [[Attitude/Translation/Actuator]]
  #             ((Both Attitude & Translation can be Passive or NO_CHANGE Subtype))
  #             ((IF Translation: Translation, Maneuver))
  #             ((IF Attitude:    One Vector Pointing, Two Vector Pointing, Quaternion, Mirror, Detumble, Whl H Manage))
  #             Index:      [[Index, {SV Index for Two Vector}]] ((needed if not Passive or NO_CHANGE))
  #             Subtype:    [[Subtype]] ((Needed if not Actuator))
  - SC: 0
    Command Sequence:
      - Time: 0.0
        Commands:
          - Type: Attitude
            Subtype: Passive
          - Type: Attitude
            Subtype: Quaternion
            Index: 0
      - Time: 60.0
        Commands:
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [0, 0]
      - Time: 120.0
        Commands:
          - Type: Translation
            Subtype: Maneuver
            Index: 0
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [0, 0]
      - Time: 320.0
        Commands:
          - Type: Translation
            Subtype: Maneuver
            Index: 3
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [3, 3]
      - Time: 420.0
        Commands:
          - Type: Translation
            Subtype: Translation
            Index: 1
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [1, 1]
      - Time: 640.0
        Commands:
          - Type: Translation
            Subtype: Translation
            Index: 3
          - Type: Attitude
            Subtype: Quaternion
            Index: 0
      - Time: 720.0
        Commands:
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [5, 5]
      - Time: 1000.0
        Commands:
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [6, 5]
      - Time: 1800.0
        Commands:
          - Type: Attitude
            Subtype: Two Vector Pointing
            Index: [7, 6]
